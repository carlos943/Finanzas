<!DOCTYPE html>
<head>
	<meta charset="UTF-8"/>
	
	<script type="text/javascript" src="js/gmaps.js"></script>
	<script  src="js/jquery-2.1.4.min.js" ></script>
	<script  src="js/jquery.mobile-1.4.5.js" ></script>
	<link rel="stylesheet" href="css/jquery.mobile-1.4.5.css" />
	<script type="text/javascript" src="js/miaplicacion.js"></script>

	
	
	<!-- <script type="text/javascript" src="js/mapa.js"></script> -->
	<script type="text/javascript" src="js/fotos.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true">
		
			
		</script>
		
		<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script> -->
	<script src="js/menu.js"></script>
	<link rel="stylesheet" href="css/menu.css" />
	<script src="js/opc.js"></script>

<style type="text/css">
			html{height: 100%}
			#map-page,#map_fmat{height: 100%; margin:0; padding: 0}
			
		</style>

		<script type="text/javascript">
		
		//var watchId =
		 navigator.geolocation.getCurrentPosition(geolocationSuccess);
		
                                                  
           function geolocationSuccess(position) {
           	var latitud=position.coords.latitude;
		var longitud = position.coords.longitude; 
    var element = document.getElementById('geolocation');
    element.innerHTML = 'Latitude: '  +   latitud   + '<br />' +
                        'Longitude: ' +  longitud   + '<br />' +
                        '<hr />'     ;
                        crearMapa(latitud,longitud);
}

// onError Callback receives a PositionError object
//
// function onError(error) {
    // alert('code: '    + error.code    + '\n' +
          // 'message: ' + error.message + '\n');
// }
//                                        
// var onSuccess = function(position) {
    // var latitud=position.coords.latitude;
		// var longitud = position.coords.longitude; 
    // var element = document.getElementById('geolocation');
    // element.innerHTML = 'Latitude: '  +   latitud   + '<br />' +
                        // 'Longitude: ' +  longitud   + '<br />' +
                        // '<hr />'     ;
                        // crearMapa(latitud,longitud);
// };

// onError Callback receives a PositionError object
//
// function onError(error) {
    // alert('code: '    + error.code    + '\n' +
          // 'message: ' + error.message + '\n');
// }
// 
// navigator.geolocation.getCurrentPosition(onSuccess, onError);
// 		
			function crearMapa (latitud,longitud) {
			  var opciones={
			  	center: new google.maps.LatLng(latitud,longitud),
			  	zoom:18,
			  	mapTypeId: google.maps.MapTypeId.SATELLITE
			  };
			  
			  var map=new google.maps.Map(document.getElementById("map_fmat"),opciones);
			   var marker= new google.maps.Marker({
			  	position:map.getCenter(),
			  	map:map,
			  	title:'Aqui estoy'
			  }
			  	
			  );
			  
			
			  }
			  google.maps.event.addDomListener(window,'load',crearMapa);
			 
		</script>


</head>

<body>

	<section data-role="page" id="registrarIngreso" data-theme="a" data-position="fixed" data-url="registrarIngreso">

		<!-- HEADER de la página -->
		<div data-role="header" data-position="fixed" data-theme="b">
			<h1>Registrar Ingreso</h1>
			<!-- icono de panel izquierdo -->
			<a href="#panelIzquierdo" data-icon="bars" data-iconpos="notext" data-shadow="false" data-iconshadow="false" class="ui-nodisc-icon">Open left panel</a>

		</div>

		<!-- DIV de contenido de la página -->
		<div data-role="content" id="map-page" data-url="map-page">

			<div data-role="fieldcontain">
<div id="map_fmat" width="200px" height="200px" class="ui-content"></div>
				<!-- campos de ingreso de texto -->
				<fieldset>
					<label for="descripcion"><strong>Descripción:</strong></label>
					<textarea name="descripcion" id="descripcion" placeholder="Descripción..."></textarea>
					<label for="cantidad"><strong>Cantidad:</strong></label>
					<input type="number" name="cantidad" id="cantidad" autocomplete="off" placeholder="Cantidad" required>
				</fieldset>

				<!------////FOTO/////--->
				<!-- switch de foto -->
				<label for="tomarFoto">Tomar foto:</label>
				<select name="tomarFoto" id="tomarFoto" data-role="slider" data-mini="true" onchange="tomarfoto(); return false">
					<option value="no" selected="">No</option>
					<option value="si" >Si</option>
				</select>
				<!-- div para la foto -->
				<div id="fotoTomada">

					<input type="button" onclick="getPhoto()" value="tomar foto" />
					<img id="imagen" width="200px" height="200px" />

				</div>

				<!------////UBICACION/////--->
				<!-- switch de ubicacion -->
				<label for="guardarUbicacion">Guardar ubicación:</label>
				<select name="guardarUbicacion" id="guardarUbicacion" data-role="slider" data-mini="true" onchange="guardarubicacion()">
					<option value="no" selected="">No</option>
					<option value="si">Si</option>
				</select>
				<!-- div para la unicacion -->
				<div id="ubicacion">

				</div>

				<!------////SUBMIT/////--->

			

			<!-- <button onclick="mapa()">locacion</button> -->
			<div id="geolocation"></div>
			

				
			</div>
<input type="button" value="Registrar" onclick="registrarIngreso()"/>
			<!-- MENU IZQUIERDO-->
			<div data-role="panel" id="panelIzquierdo" data-theme="b" data-display="overlay">
				<h2> Menú </h2>
				<a href="#" data-rel="close" class="ui-btn ui-corner-all ui-shadow ui-mini ui-btn-inline ui-icon-delete ui-btn-icon-left ui-btn-right">Cerar</a>
				<ul data-role="listview" data-inset="false">
					<li>
						<a id="a1" class="ui-btn" href="registrarIngreso.html" >Registrar ingreso</a>
					</li>
					<li>
						<a class="ui-btn" href="registrarEgreso.html" rel="external" >Registrar egreso</a>
					</li>
					<li>
						<a class="ui-btn" href="recordatorio.html" rel="external" >Agregar recordatorio</a>
					</li>
					<li>
						<a class="ui-btn" href="balance.html" rel="external"  >Balance</a>
					</li>
					<li>
						<a class="ui-btn" href="#" rel="external">Exportar</a>
					</li>

				</ul>
			</div>

			<!-- FOOTER de la pagina -->
			<footer data-role="footer" data-position="fixed" >

				<p style="font-size:72%;text-align:center">
					© Elías Canché, Carlos Arjaujo Inc.  All rights reserved.
				</p>

			</footer>
	</section>
</body>
</html>
