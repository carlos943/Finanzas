<html>
	<head>
		<script type="text/javascript" src="cordova.js" charset="utf-8"></script>
		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript">
			

    // PhoneGap is ready
    //

        var db = window.openDatabase("Finanzas", "1.0", "Finanzas", 200000);
        


    // Populate the database 
    //
 
    
    function check_login() {
        event.preventDefault(); // cancel default behavior
        var username = $("#username").val();
        var password = $("#password").val();
        db.transaction(function(tx) {
           
            tx.executeSql('SELECT * FROM USUARIO WHERE usuario=? AND contrasena=?', [username, password], function(tx, results) {
                 if (results.rows.length > 0) {
                    window.location = "main.html";
                 } else {
                    alert("Invalid username or password");
                 }
            }, errorCB);
        });
    }
    
      

    // Transaction error callback
    //
    function errorCB(tx, err) {
        alert("Error processing SQL: "+err);
    }

    // Transaction success callback
    //
    function successCB() {
        alert("success!");
    } 
    // var db;
// 
// function check_login() {
        // event.preventDefault(); // cancel default behavior
        // var username = $("#username").val();
        // var password = $("#password").val();
        // db.transaction(function(tx) {
            // alert(tx + "test");
            // tx.executeSql('SELECT * FROM LOGIN WHERE username=? AND password=?', [username, password], function(tx, results) {
                 // if (results.rows.length > 0) {
                    // window.location = "main.html";
                 // } else {
                    // alert("Invalid username or password");
                 // }
            // }, errorCB);
        // });
    // }
// // Wait for device API libraries to load
// //
// document.addEventListener("deviceready", onDeviceReady, false);
// 
// // device APIs are available
// //
// function onDeviceReady() {
    // db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
    // db.transaction(populateDB, errorCB, successCB);
// }
// 
// // Populate the database
// //
// function populateDB(tx) {
    // tx.executeSql('DROP TABLE IF EXISTS LOGIN');
    // tx.executeSql('CREATE TABLE IF NOT EXISTS LOGIN (id unique, username, password)');
    // tx.executeSql('INSERT INTO LOGIN (id, username, password) VALUES (1, "Admin", "Admin")');
// }
// 
// // Transaction error callback
// //
// function errorCB(tx, err) {
    // alert("Error processing SQL: " + err.code);
// }
// 
// // Transaction success callback
// //
// function successCB() {
    // alert("success!");
// }
		</script>
	</head>
	<body>
		<h1>Log in</h1>
		<form >

			<div class="form-group " >
				<label>Usuario:</label>
				<input class="form-control" type="text" name="usuario" id="username" value="" required/>
			</div>
			<div class="form-group">
				<label>Password:</label>
				<input class="form-control" type="password" name="password" id="password"  value="" required/>
			</div>

			<td>
			<input type="button" value="Entrar" class="btn btn-default" onclick="check_login()"/>
			</td>
		</form>
		<br />
		<a href="registro.html">Registrate</a>
		
	
		
	</body>
</html>